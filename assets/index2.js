import{k as x,l as St}from"./index.js";function Tt(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var Ne={},Z={},ne={},ge={};(function(n){var e=x&&x.__awaiter||function(i,s,o,a){function l(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(y){try{d(a.next(y))}catch(m){c(m)}}function f(y){try{d(a.throw(y))}catch(m){c(m)}}function d(y){y.done?u(y.value):l(y.value).then(h,f)}d((a=a.apply(i,s||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.TARGET_URL_HEADER=void 0,n.withMiddleware=t,n.withProxy=r;function t(...i){const s=o=>typeof o=="function";return o=>e(this,void 0,void 0,function*(){let a=Object.assign({},o);for(const l of i.filter(s))a=yield l(a);return a})}n.TARGET_URL_HEADER="x-fal-target-url";function r(i){const s=o=>Promise.resolve(o);return typeof window>"u"?s:o=>o.headers&&n.TARGET_URL_HEADER in o?s(o):Promise.resolve(Object.assign(Object.assign({},o),{url:i.targetUrl,headers:Object.assign(Object.assign({},o.headers||{}),{[n.TARGET_URL_HEADER]:o.url})}))}})(ge);var S={},He=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(S,"__esModule",{value:!0});S.ValidationError=S.ApiError=void 0;S.defaultResponseHandler=Ve;S.resultResponseHandler=Ot;const At="x-fal-request-id";class ee extends Error{constructor({message:e,status:t,body:r}){super(e),this.name="ApiError",this.status=t,this.body=r}}S.ApiError=ee;class Ke extends ee{constructor(e){super(e),this.name="ValidationError"}get fieldErrors(){return typeof this.body.detail=="string"?[{loc:["body"],msg:this.body.detail,type:"value_error"}]:this.body.detail||[]}getFieldErrors(e){return this.fieldErrors.filter(t=>t.loc[t.loc.length-1]===e)}}S.ValidationError=Ke;function Ve(n){return He(this,void 0,void 0,function*(){var e;const{status:t,statusText:r}=n,i=(e=n.headers.get("Content-Type"))!==null&&e!==void 0?e:"";if(!n.ok){if(i.includes("application/json")){const s=yield n.json(),o=t===422?Ke:ee;throw new o({message:s.message||r,status:t,body:s})}throw new ee({message:`HTTP ${t}: ${r}`,status:t})}return i.includes("application/json")?n.json():i.includes("text/html")?n.text():i.includes("application/octet-stream")?n.arrayBuffer():n.text()})}function Ot(n){return He(this,void 0,void 0,function*(){return{data:yield Ve(n),requestId:n.headers.get(At)||""}})}var Y={},v={},It=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.ensureEndpointIdFormat=We;v.parseEndpointId=Bt;v.isValidUrl=Ct;v.throttle=Mt;v.isReact=Dt;v.isPlainObject=kt;v.sleep=$t;function We(n){if(n.split("/").length>1)return n;const[,t,r]=/^([0-9]+)-([a-zA-Z0-9-]+)$/.exec(n)||[];if(t&&r)return`${t}/${r}`;throw new Error(`Invalid app id: ${n}. Must be in the format <appOwner>/<appId>`)}const Rt=["workflows","comfy"];function Bt(n){const t=We(n).split("/");return Rt.includes(t[0])?{owner:t[1],alias:t[2],path:t.slice(3).join("/")||void 0,namespace:t[0]}:{owner:t[0],alias:t[1],path:t.slice(2).join("/")||void 0}}function Ct(n){try{const{host:e}=new URL(n);return/(fal\.(ai|run))$/.test(e)}catch{return!1}}function Mt(n,e,t=!1){let r,i;return(...s)=>{!i&&t?(n(...s),i=Date.now()):(r&&clearTimeout(r),r=setTimeout(()=>{Date.now()-i>=e&&(n(...s),i=Date.now())},e-(Date.now()-i)))}}let ce;function Dt(){if(ce===void 0){const n=new Error().stack;ce=!!n&&(n.includes("node_modules/react-dom/")||n.includes("node_modules/next/"))}return ce}function kt(n){return!!n&&Object.getPrototypeOf(n)===Object.prototype}function $t(n){return It(this,void 0,void 0,function*(){return new Promise(e=>setTimeout(e,n))})}(function(n){var e=x&&x.__awaiter||function(a,l,u,c){function h(f){return f instanceof u?f:new u(function(d){d(f)})}return new(u||(u=Promise))(function(f,d){function y(p){try{w(c.next(p))}catch(_){d(_)}}function m(p){try{w(c.throw(p))}catch(_){d(_)}}function w(p){p.done?f(p.value):h(p.value).then(y,m)}w((c=c.apply(a,l||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_RETRY_OPTIONS=n.DEFAULT_RETRYABLE_STATUS_CODES=void 0,n.isRetryableError=i,n.calculateBackoffDelay=s,n.executeWithRetry=o;const t=S,r=v;n.DEFAULT_RETRYABLE_STATUS_CODES=[429,502,503,504],n.DEFAULT_RETRY_OPTIONS={maxRetries:3,baseDelay:1e3,maxDelay:3e4,backoffMultiplier:2,retryableStatusCodes:n.DEFAULT_RETRYABLE_STATUS_CODES,enableJitter:!0};function i(a,l){return a instanceof t.ApiError&&l.includes(a.status)}function s(a,l,u,c,h){const f=Math.min(l*Math.pow(c,a),u);if(h){const d=.25*f*(Math.random()*2-1);return Math.max(0,f+d)}return f}function o(a,l,u){return e(this,void 0,void 0,function*(){const c={totalAttempts:0,totalDelay:0};let h;for(let f=0;f<=l.maxRetries;f++){c.totalAttempts++;try{return{result:yield a(),metrics:c}}catch(d){if(h=d,c.lastError=d,f===l.maxRetries||!i(d,l.retryableStatusCodes))throw d;const y=s(f,l.baseDelay,l.maxDelay,l.backoffMultiplier,l.enableJitter);c.totalDelay+=y,u&&u(f+1,d,y),yield(0,r.sleep)(y)}}throw h})}})(Y);var F={};const Pt="@fal-ai/client",Lt="1.6.1",Ft={name:Pt,version:Lt};Object.defineProperty(F,"__esModule",{value:!0});F.isBrowser=jt;F.getUserAgent=zt;function jt(){return typeof window<"u"&&typeof window.document<"u"}let Q=null;function zt(){if(Q!==null)return Q;const n=Ft;return Q=`${n.name}/${n.version}`,Q}(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0}),n.credentialsFromEnv=void 0,n.resolveDefaultFetch=o,n.createConfig=c,n.getRestApiUrl=h;const t=ge,r=S,i=Y,s=F;function o(){if(typeof fetch>"u")throw new Error("Your environment does not support fetch. Please provide your own fetch implementation.");return fetch}function a(){return typeof process<"u"&&e&&(typeof e.FAL_KEY<"u"||typeof e.FAL_KEY_ID<"u"&&typeof e.FAL_KEY_SECRET<"u")}const l=()=>{if(a())return typeof e.FAL_KEY<"u"?e.FAL_KEY:e.FAL_KEY_ID?`${e.FAL_KEY_ID}:${e.FAL_KEY_SECRET}`:void 0};n.credentialsFromEnv=l;const u={credentials:n.credentialsFromEnv,suppressLocalCredentialsWarning:!1,requestMiddleware:f=>Promise.resolve(f),responseHandler:r.defaultResponseHandler,retry:i.DEFAULT_RETRY_OPTIONS};function c(f){var d;let y=Object.assign(Object.assign(Object.assign({},u),f),{fetch:(d=f.fetch)!==null&&d!==void 0?d:o(),retry:Object.assign(Object.assign({},i.DEFAULT_RETRY_OPTIONS),f.retry||{})});f.proxyUrl&&(y=Object.assign(Object.assign({},y),{requestMiddleware:(0,t.withMiddleware)(y.requestMiddleware,(0,t.withProxy)({targetUrl:f.proxyUrl}))}));const{credentials:m,suppressLocalCredentialsWarning:w}=y,p=typeof m=="function"?m():m;return(0,s.isBrowser)()&&p&&!w&&console.warn("The fal credentials are exposed in the browser's environment. That's not recommended for production use cases."),y}function h(){return"https://rest.alpha.fal.ai"}})(ne);var re={},C={},Oe=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},qt=x&&x.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};Object.defineProperty(C,"__esModule",{value:!0});C.dispatchRequest=Ht;C.buildUrl=Kt;const Ie=Y,Re=F,ye=v,Nt=typeof navigator<"u"&&(navigator==null?void 0:navigator.userAgent)==="Cloudflare-Workers";function Ht(n){return Oe(this,void 0,void 0,function*(){var e;const{targetUrl:t,input:r,config:i,options:s={}}=n,{credentials:o,requestMiddleware:a,responseHandler:l,fetch:u}=i,c=Object.assign(Object.assign({},i.retry),s.retry||{}),h=()=>Oe(this,void 0,void 0,function*(){var d,y,m;const w=(0,Re.isBrowser)()?{}:{"User-Agent":(0,Re.getUserAgent)()},p=typeof o=="function"?o():o,{method:_,url:T,headers:E}=yield a({method:((y=(d=n.method)!==null&&d!==void 0?d:s.method)!==null&&y!==void 0?y:"post").toUpperCase(),url:t,headers:n.headers}),A=p?{Authorization:`Key ${p}`}:{},oe=Object.assign(Object.assign(Object.assign(Object.assign({},A),{Accept:"application/json","Content-Type":"application/json"}),w),E??{}),{responseHandler:ae,retry:Rr}=s,Ae=qt(s,["responseHandler","retry"]),Ut=yield u(T,Object.assign(Object.assign(Object.assign(Object.assign({},Ae),{method:_,headers:Object.assign(Object.assign({},oe),(m=Ae.headers)!==null&&m!==void 0?m:{})}),!Nt&&{mode:"cors"}),{signal:s.signal,body:_.toLowerCase()!=="get"&&r?JSON.stringify(r):void 0}));return yield(ae??l)(Ut)});let f;for(let d=0;d<=c.maxRetries;d++)try{return yield h()}catch(y){if(f=y,d===c.maxRetries||!(0,Ie.isRetryableError)(y,c.retryableStatusCodes)||((e=s.signal)===null||e===void 0?void 0:e.aborted))throw y;const w=(0,Ie.calculateBackoffDelay)(d,c.baseDelay,c.maxDelay,c.backoffMultiplier,c.enableJitter);yield(0,ye.sleep)(w)}throw f})}function Kt(n,e={}){var t,r;const i=((t=e.method)!==null&&t!==void 0?t:"post").toLowerCase(),s=((r=e.path)!==null&&r!==void 0?r:"").replace(/^\//,"").replace(/\/{2,}/,"/"),o=e.input,a=Object.assign(Object.assign({},e.query||{}),i==="get"?o:{}),l=Object.keys(a).length>0?`?${new URLSearchParams(a).toString()}`:"";if((0,ye.isValidUrl)(n))return`${n.endsWith("/")?n:`${n}/`}${s}${l}`;const u=(0,ye.ensureEndpointIdFormat)(n);return`${`https://${e.subdomain?`${e.subdomain}.`:""}fal.run/${u}/${s}`.replace(/\/$/,"")}${l}`}var j={},we={};Object.defineProperty(we,"__esModule",{value:!0});function Vt(n){let e,t,r,i,s,o,a;return l(),{feed:u,reset:l};function l(){e=!0,t="",r=0,i=-1,s=void 0,o=void 0,a=""}function u(h){t=t?t+h:h,e&&Wt(t)&&(t=t.slice(Ye.length)),e=!1;const f=t.length;let d=0,y=!1;for(;d<f;){y&&(t[d]===`
`&&++d,y=!1);let m=-1,w=i,p;for(let _=r;m<0&&_<f;++_)p=t[_],p===":"&&w<0?w=_-d:p==="\r"?(y=!0,m=_-d):p===`
`&&(m=_-d);if(m<0){r=f-d,i=w;break}else r=0,i=-1;c(t,d,w,m),d+=m+1}d===f?t="":d>0&&(t=t.slice(d))}function c(h,f,d,y){if(y===0){a.length>0&&(n({type:"event",id:s,event:o||void 0,data:a.slice(0,-1)}),a="",s=void 0),o=void 0;return}const m=d<0,w=h.slice(f,f+(m?y:d));let p=0;m?p=y:h[f+d+1]===" "?p=d+2:p=d+1;const _=f+p,T=y-p,E=h.slice(_,_+T).toString();if(w==="data")a+=E?"".concat(E,`
`):`
`;else if(w==="event")o=E;else if(w==="id"&&!E.includes("\0"))s=E;else if(w==="retry"){const A=parseInt(E,10);Number.isNaN(A)||n({type:"reconnect-interval",value:A})}}}const Ye=[239,187,191];function Wt(n){return Ye.every((e,t)=>n.charCodeAt(t)===e)}we.createParser=Vt;var _e={};(function(n){var e=x&&x.__awaiter||function(o,a,l,u){function c(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function d(w){try{m(u.next(w))}catch(p){f(p)}}function y(w){try{m(u.throw(w))}catch(p){f(p)}}function m(w){w.done?h(w.value):c(w.value).then(d,y)}m((u=u.apply(o,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_EXPIRATION_SECONDS=void 0,n.getTemporaryAuthToken=s;const t=ne,r=C,i=v;n.TOKEN_EXPIRATION_SECONDS=120;function s(o,a){return e(this,void 0,void 0,function*(){const l=(0,i.parseEndpointId)(o),u=yield(0,r.dispatchRequest)({method:"POST",targetUrl:`${(0,t.getRestApiUrl)()}/tokens/`,config:a,input:{allowed_apps:[l.alias],token_expiration:n.TOKEN_EXPIRATION_SECONDS}});return typeof u!="string"&&u.detail?u.detail:u})}})(_e);var L=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},V=x&&x.__await||function(n){return this instanceof V?(this.v=n,this):new V(n)},Yt=x&&x.__asyncGenerator||function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(y){return Promise.resolve(y).then(d,h)}}function a(d,y){r[d]&&(i[d]=function(m){return new Promise(function(w,p){s.push([d,m,w,p])>1||l(d,m)})},y&&(i[d]=y(i[d])))}function l(d,y){try{u(r[d](y))}catch(m){f(s[0][3],m)}}function u(d){d.value instanceof V?Promise.resolve(d.value.v).then(c,h):f(s[0][2],d)}function c(d){l("next",d)}function h(d){l("throw",d)}function f(d,y){d(y),s.shift(),s.length&&l(s[0][0],s[0][1])}};Object.defineProperty(j,"__esModule",{value:!0});j.FalStream=void 0;j.createStreamingClient=Jt;const Qt=we,Xt=_e,Be=C,P=S,ue="text/event-stream",Gt=15*1e3;class Qe{constructor(e,t,r){var i;this.listeners=new Map,this.buffer=[],this.currentData=void 0,this.lastEventTimestamp=0,this.streamClosed=!1,this._requestId=null,this.abortController=new AbortController,this.start=()=>L(this,void 0,void 0,function*(){var s,o;const{endpointId:a,options:l}=this,{input:u,method:c="post",connectionMode:h="server"}=l;try{if(h==="client"){const f=yield(0,Xt.getTemporaryAuthToken)(a,this.config),{fetch:d}=this.config,y=new URL(this.url);y.searchParams.set("fal_jwt_token",f);const m=yield d(y.toString(),{method:c.toUpperCase(),headers:{accept:(s=l.accept)!==null&&s!==void 0?s:ue,"content-type":"application/json"},body:u&&c!=="get"?JSON.stringify(u):void 0,signal:this.abortController.signal});return this._requestId=m.headers.get("x-fal-request-id"),yield this.handleResponse(m)}return yield(0,Be.dispatchRequest)({method:c.toUpperCase(),targetUrl:this.url,input:u,config:this.config,options:{headers:{accept:(o=l.accept)!==null&&o!==void 0?o:ue},responseHandler:f=>L(this,void 0,void 0,function*(){return this._requestId=f.headers.get("x-fal-request-id"),yield this.handleResponse(f)}),signal:this.abortController.signal}})}catch(f){this.handleError(f)}}),this.handleResponse=s=>L(this,void 0,void 0,function*(){var o,a;if(!s.ok){try{yield(0,P.defaultResponseHandler)(s)}catch(m){this.emit("error",m)}return}const l=s.body;if(!l){this.emit("error",new P.ApiError({message:"Response body is empty.",status:400,body:void 0}));return}if(!((o=s.headers.get("content-type"))!==null&&o!==void 0?o:"").startsWith(ue)){const m=l.getReader(),w=()=>{m.read().then(({done:p,value:_})=>{if(p){this.emit("done",this.currentData);return}this.currentData=_,this.emit("data",_),w()})};w();return}const c=new TextDecoder("utf-8"),h=s.body.getReader(),f=(0,Qt.createParser)(m=>{if(m.type==="event"){const w=m.data;try{const p=JSON.parse(w);this.buffer.push(p),this.currentData=p,this.emit("data",p),this.emit("message",p)}catch(p){this.emit("error",p)}}}),d=(a=this.options.timeout)!==null&&a!==void 0?a:Gt,y=()=>L(this,void 0,void 0,function*(){const{value:m,done:w}=yield h.read();this.lastEventTimestamp=Date.now(),f.feed(c.decode(m)),Date.now()-this.lastEventTimestamp>d&&this.emit("error",new P.ApiError({message:`Event stream timed out after ${(d/1e3).toFixed(0)} seconds with no messages.`,status:408})),w?this.emit("done",this.currentData):y().catch(this.handleError)});y().catch(this.handleError)}),this.handleError=s=>{var o;if(s.name==="AbortError"||this.signal.aborted)return;const a=s instanceof P.ApiError?s:new P.ApiError({message:(o=s.message)!==null&&o!==void 0?o:"An unknown error occurred",status:500});this.emit("error",a)},this.on=(s,o)=>{var a;this.listeners.has(s)||this.listeners.set(s,[]),(a=this.listeners.get(s))===null||a===void 0||a.push(o)},this.emit=(s,o)=>{const a=this.listeners.get(s)||[];for(const l of a)l(o)},this.done=()=>L(this,void 0,void 0,function*(){return this.donePromise}),this.abort=s=>{this.streamClosed||this.abortController.abort(s)},this.endpointId=e,this.config=t,this.url=(i=r.url)!==null&&i!==void 0?i:(0,Be.buildUrl)(e,{path:"/stream",query:r.queryParams}),this.options=r,this.donePromise=new Promise((s,o)=>{this.streamClosed&&o(new P.ApiError({message:"Streaming connection is already closed.",status:400,body:void 0})),this.signal.addEventListener("abort",()=>{var a;s((a=this.currentData)!==null&&a!==void 0?a:{})}),this.on("done",a=>{this.streamClosed=!0,s(a)}),this.on("error",a=>{this.streamClosed=!0,o(a)})}),r.signal&&r.signal.addEventListener("abort",()=>{this.abortController.abort()}),this.start().catch(this.handleError)}[Symbol.asyncIterator](){return Yt(this,arguments,function*(){let t=!0;const r=()=>t=!1;for(this.on("error",r),this.on("done",r);t||this.buffer.length>0;){const i=this.buffer.shift();i&&(yield yield V(i)),yield V(new Promise(s=>setTimeout(s,16)))}})}get signal(){return this.abortController.signal}get requestId(){return this._requestId}}j.FalStream=Qe;function Jt({config:n,storage:e}){return{stream(t,r){return L(this,void 0,void 0,function*(){const i=r.input?yield e.transformInput(r.input):void 0;return new Qe(t,n,Object.assign(Object.assign({},r),{input:i}))})}}}var D=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Zt=x&&x.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};Object.defineProperty(re,"__esModule",{value:!0});re.createQueueClient=void 0;const I=C,en=S,Xe=Y,tn=j,X=v,Ce=500,Me={maxRetries:3,baseDelay:1e3,maxDelay:6e4,retryableStatusCodes:Xe.DEFAULT_RETRYABLE_STATUS_CODES},nn={maxRetries:5,baseDelay:1e3,maxDelay:3e4,retryableStatusCodes:[...Xe.DEFAULT_RETRYABLE_STATUS_CODES,500]},rn=({config:n,storage:e})=>{const t={submit(r,i){return D(this,void 0,void 0,function*(){const{webhookUrl:s,priority:o,hint:a}=i,l=Zt(i,["webhookUrl","priority","hint"]),u=i.input?yield e.transformInput(i.input):void 0;return(0,I.dispatchRequest)({method:i.method,targetUrl:(0,I.buildUrl)(r,Object.assign(Object.assign({},l),{subdomain:"queue",query:s?{fal_webhook:s}:void 0})),headers:Object.assign({"x-fal-queue-priority":o??"normal"},a&&{"x-fal-runner-hint":a}),input:u,config:n,options:{signal:i.abortSignal,retry:Me}})})},status(r,i){return D(this,arguments,void 0,function*(s,{requestId:o,logs:a=!1,abortSignal:l}){const u=(0,X.parseEndpointId)(s),c=u.namespace?`${u.namespace}/`:"";return(0,I.dispatchRequest)({method:"get",targetUrl:(0,I.buildUrl)(`${c}${u.owner}/${u.alias}`,{subdomain:"queue",query:{logs:a?"1":"0"},path:`/requests/${o}/status`}),config:n,options:{signal:l,retry:nn}})})},streamStatus(r,i){return D(this,arguments,void 0,function*(s,{requestId:o,logs:a=!1,connectionMode:l}){const u=(0,X.parseEndpointId)(s),c=u.namespace?`${u.namespace}/`:"",h={logs:a?"1":"0"},f=(0,I.buildUrl)(`${c}${u.owner}/${u.alias}`,{subdomain:"queue",path:`/requests/${o}/status/stream`,query:h});return new tn.FalStream(s,n,{url:f,method:"get",connectionMode:l,queryParams:h})})},subscribeToStatus(r,i){return D(this,void 0,void 0,function*(){const s=i.requestId,o=i.timeout;let a;const l=()=>{};if(i.mode==="streaming"){const u=yield t.streamStatus(r,{requestId:s,logs:i.logs,connectionMode:"connectionMode"in i?i.connectionMode:void 0}),c=[];o&&(a=setTimeout(()=>{throw u.abort(),t.cancel(r,{requestId:s}).catch(l),new Error(`Client timed out waiting for the request to complete after ${o}ms`)},o)),u.on("data",f=>{i.onQueueUpdate&&("logs"in f&&Array.isArray(f.logs)&&f.logs.length>0&&c.push(...f.logs),i.onQueueUpdate("logs"in f?Object.assign(Object.assign({},f),{logs:c}):f))});const h=yield u.done();return a&&clearTimeout(a),h}return new Promise((u,c)=>{var h;let f;const d="pollInterval"in i&&typeof i.pollInterval=="number"&&(h=i.pollInterval)!==null&&h!==void 0?h:Ce,y=()=>{a&&clearTimeout(a),f&&clearTimeout(f)};o&&(a=setTimeout(()=>{y(),t.cancel(r,{requestId:s}).catch(l),c(new Error(`Client timed out waiting for the request to complete after ${o}ms`))},o));const m=()=>D(this,void 0,void 0,function*(){var w;try{const p=yield t.status(r,{requestId:s,logs:(w=i.logs)!==null&&w!==void 0?w:!1,abortSignal:i.abortSignal});if(i.onQueueUpdate&&i.onQueueUpdate(p),p.status==="COMPLETED"){y(),u(p);return}f=setTimeout(m,d)}catch(p){y(),c(p)}});m().catch(c)})})},result(r,i){return D(this,arguments,void 0,function*(s,{requestId:o,abortSignal:a}){const l=(0,X.parseEndpointId)(s),u=l.namespace?`${l.namespace}/`:"";return(0,I.dispatchRequest)({method:"get",targetUrl:(0,I.buildUrl)(`${u}${l.owner}/${l.alias}`,{subdomain:"queue",path:`/requests/${o}`}),config:Object.assign(Object.assign({},n),{responseHandler:en.resultResponseHandler}),options:{signal:a,retry:Me}})})},cancel(r,i){return D(this,arguments,void 0,function*(s,{requestId:o,abortSignal:a}){const l=(0,X.parseEndpointId)(s),u=l.namespace?`${l.namespace}/`:"";yield(0,I.dispatchRequest)({method:"put",targetUrl:(0,I.buildUrl)(`${u}${l.owner}/${l.alias}`,{subdomain:"queue",path:`/requests/${o}/cancel`}),config:n,options:{signal:a}})})}};return t};re.createQueueClient=rn;var xe={};function sn(n){const e=n.length;let t=0,r=0;for(;r<e;){let i=n.charCodeAt(r++);if(i&4294967168)if(!(i&4294965248))t+=2;else{if(i>=55296&&i<=56319&&r<e){const s=n.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?t+=4:t+=3}else{t++;continue}}return t}function on(n,e,t){const r=n.length;let i=t,s=0;for(;s<r;){let o=n.charCodeAt(s++);if(o&4294967168)if(!(o&4294965248))e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<r){const a=n.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128):(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128)}else{e[i++]=o;continue}e[i++]=o&63|128}}const an=new TextEncoder,cn=50;function un(n,e,t){an.encodeInto(n,e.subarray(t))}function ln(n,e,t){n.length>cn?un(n,e,t):on(n,e,t)}const dn=4096;function Ge(n,e,t){let r=e;const i=r+t,s=[];let o="";for(;r<i;){const a=n[r++];if(!(a&128))s.push(a);else if((a&224)===192){const l=n[r++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=n[r++]&63,u=n[r++]&63;s.push((a&31)<<12|l<<6|u)}else if((a&248)===240){const l=n[r++]&63,u=n[r++]&63,c=n[r++]&63;let h=(a&7)<<18|l<<12|u<<6|c;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=dn&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const hn=new TextDecoder,fn=200;function yn(n,e,t){const r=n.subarray(e,e+t);return hn.decode(r)}function pn(n,e,t){return t>fn?yn(n,e,t):Ge(n,e,t)}class N{constructor(e,t){this.type=e,this.data=t}}class U extends Error{constructor(e){super(e);const t=Object.create(U.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:U.name})}}const z=4294967295;function mn(n,e,t){const r=t/4294967296,i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function Je(n,e,t){const r=Math.floor(t/4294967296),i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function Ze(n,e){const t=n.getInt32(e),r=n.getUint32(e+4);return t*4294967296+r}function gn(n,e){const t=n.getUint32(e),r=n.getUint32(e+4);return t*4294967296+r}const et=-1,wn=4294967296-1,_n=17179869184-1;function tt({sec:n,nsec:e}){if(n>=0&&e>=0&&n<=_n)if(e===0&&n<=wn){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,n),t}else{const t=n/4294967296,r=n&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|t&3),s.setUint32(4,r),i}else{const t=new Uint8Array(12),r=new DataView(t.buffer);return r.setUint32(0,e),Je(r,4,n),t}}function nt(n){const e=n.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,i=Math.floor(r/1e9);return{sec:t+i,nsec:r-i*1e9}}function rt(n){if(n instanceof Date){const e=nt(n);return tt(e)}else return null}function it(n){const e=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0),r=e.getUint32(4),i=(t&3)*4294967296+r,s=t>>>2;return{sec:i,nsec:s}}case 12:{const t=Ze(e,4),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new U(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${n.length}`)}}function st(n){const e=it(n);return new Date(e.sec*1e3+e.nsec/1e6)}const xn={type:et,encode:rt,decode:st};class W{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(xn)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,t);if(s!=null){const o=-1-r;return new N(o,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,t);if(s!=null){const o=r;return new N(o,s)}}}return e instanceof N?e:null}decode(e,t,r){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new N(t,e)}}W.defaultCodec=new W;function En(n){return n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer}function pe(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):En(n)?new Uint8Array(n):Uint8Array.from(n)}const bn=100,vn=2048;class ie{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??W.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??bn,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??vn,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new ie({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=sn(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),ln(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error(`Too large binary: ${t}`);const r=pe(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,t+1)}countWithoutUndefined(e,t){let r=0;for(const i of t)e[i]!==void 0&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,t+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),mn(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Je(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function Un(n,e){return new ie(e).encodeSharedRef(n)}function le(n){return`${n<0?"-":""}0x${Math.abs(n).toString(16).padStart(2,"0")}`}const Sn=16,Tn=16;class An{constructor(e=Sn,t=Tn){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){const i=this.caches[r-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<r;a++)if(o[a]!==e[t+a])continue e;return s.str}return null}store(e,t){const r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,t,r){const i=this.find(e,t,r);if(i!=null)return this.hit++,i;this.miss++;const s=Ge(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,s),s}}const me="array",H="map_key",ot="map_value",On=n=>{if(typeof n=="string"||typeof n=="number")return n;throw new U("The type of key must be string or number but "+typeof n)};class In{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=me,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=H,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===me){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===H||e.type===ot){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const q=-1,Ee=new DataView(new ArrayBuffer(0)),Rn=new Uint8Array(Ee.buffer);try{Ee.getInt8(0)}catch(n){if(!(n instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const De=new RangeError("Insufficient data"),Bn=new An;class M{constructor(e){this.totalPos=0,this.pos=0,this.view=Ee,this.bytes=Rn,this.headByte=q,this.stack=new In,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??W.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??z,this.maxBinLength=(e==null?void 0:e.maxBinLength)??z,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??z,this.maxMapLength=(e==null?void 0:e.maxMapLength)??z,this.maxExtLength=(e==null?void 0:e.maxExtLength)??z,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:Bn,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??On}clone(){return new M({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=q,this.stack.reset()}setBuffer(e){const t=pe(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===q&&!this.hasRemaining(1))this.setBuffer(e);else{const t=this.bytes.subarray(this.pos),r=pe(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t=!1,r;for await(const a of e){if(t)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),t=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${le(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){yield*this.clone().decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,i=-1;for await(const s of e){if(t&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else{const i=e-160;t=this.decodeString(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)this.useBigInt64?t=this.readU64AsBigInt():t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)this.useBigInt64?t=this.readI64AsBigInt():t=this.readI64();else if(e===217){const i=this.lookU8();t=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();t=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();t=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else t=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else t={}}else if(e===196){const i=this.lookU8();t=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();t=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();t=this.decodeBinary(i,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();t=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();t=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();t=this.decodeExtension(i,4)}else throw new U(`Unrecognized type byte: ${le(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===me)if(i.array[i.position]=t,i.position++,i.position===i.size)t=i.array,r.release(i);else continue e;else if(i.type===H){if(t==="__proto__")throw new U("The key __proto__ is not allowed");i.key=this.mapKeyConverter(t),i.type=ot;continue e}else if(i.map[i.key]=t,i.readCount++,i.readCount===i.size)t=i.map,r.release(i);else{i.key=null,i.type=H;continue e}}return t}}readHeadByte(){return this.headByte===q&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=q}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new U(`Unrecognized array type byte: ${le(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new U(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new U(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){var s;if(e>this.maxStrLength)throw new U(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw De;const r=this.pos+t;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=pn(this.bytes,r,e),this.pos+=t+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===H:!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new U(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw De;const r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i}decodeExtension(e,t){if(e>this.maxExtLength)throw new U(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=gn(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Ze(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function Cn(n,e){return new M(e).decode(n)}function Mn(n,e){return new M(e).decodeMulti(n)}function Dn(n){return n[Symbol.asyncIterator]!=null}async function*kn(n){const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)return;yield r}}finally{e.releaseLock()}}function be(n){return Dn(n)?n:kn(n)}async function $n(n,e){const t=be(n);return new M(e).decodeAsync(t)}function Pn(n,e){const t=be(n);return new M(e).decodeArrayStream(t)}function Ln(n,e){const t=be(n);return new M(e).decodeStream(t)}const Fn=Object.freeze(Object.defineProperty({__proto__:null,DecodeError:U,Decoder:M,EXT_TIMESTAMP:et,Encoder:ie,ExtData:N,ExtensionCodec:W,decode:Cn,decodeArrayStream:Pn,decodeAsync:$n,decodeMulti:Mn,decodeMultiStream:Ln,decodeTimestampExtension:st,decodeTimestampToTimeSpec:it,encode:Un,encodeDateToTimeSpec:nt,encodeTimeSpecToTimestamp:tt,encodeTimestampExtension:rt},Symbol.toStringTag,{value:"Module"})),jn=St(Fn);var O={};Object.defineProperty(O,"__esModule",{value:!0});function b(n){return{enumerable:!0,value:n}}function ke(n){return{enumerable:!0,writable:!0,value:n}}let $={},zn=()=>!0,$e=()=>({}),at=n=>n,qn=(n,e,t,r)=>n.apply(t,r)&&e.apply(t,r),Nn=(n,e,t,[r,i])=>e.call(t,n.call(t,r,i),i),B=(n,e)=>Object.freeze(Object.create(n,e));function Pe(n,e,t){return n.reduce((r,i)=>function(...s){return t(r,i,this,s)},e)}function ct(n){return B(this,{fn:b(n)})}let ut={},lt=ct.bind(ut),Hn=n=>lt((e,t)=>!!~n(e,t)&&e),dt={},Kn=ct.bind(dt);function te(n,e){return e.filter(t=>n.isPrototypeOf(t))}function ht(n,e,...t){let r=Pe(te(dt,t).map(s=>s.fn),zn,qn),i=Pe(te(ut,t).map(s=>s.fn),at,Nn);return B(this,{from:b(n),to:b(e),guards:b(r),reducers:b(i)})}let ft={},yt={},Vn=ht.bind(ft),Wn=ht.bind(yt,null);function Yn(n,e,t){return Ue(e,n,t,this.immediates)||n}function pt(n){let e=new Map;for(let t of n)e.has(t.from)||e.set(t.from,[]),e.get(t.from).push(t);return e}let Qn={enter:at};function Xn(...n){let e=te(ft,n),t=te(yt,n),r={final:b(n.length===0),transitions:b(pt(e))};return t.length&&(r.immediates=b(t),r.enter=b(Yn)),B(Qn,r)}let Gn={enter(n,e,t){let r=this.fn.call(e,e.context,t);return ve.isPrototypeOf(r)?B(mt,{machine:b(r),transitions:b(this.transitions)}).enter(n,e,t):(r.then(i=>e.send({type:"done",data:i})).catch(i=>e.send({type:"error",error:i})),n)}},mt={enter(n,e,t){if(e.child=gt(this.machine,r=>{e.onChange(r),e.child==r&&r.machine.state.value.final&&(delete e.child,e.send({type:"done",data:r.context}))},e.context,t),e.child.machine.state.value.final){let r=e.child.context;return delete e.child,Ue(e,n,{type:"done",data:r},this.transitions.get("done"))}return n}};function Jn(n,...e){let t=b(pt(e));return ve.isPrototypeOf(n)?B(mt,{machine:b(n),transitions:t}):B(Gn,{fn:b(n),transitions:t})}let ve={get state(){return{name:this.current,value:this.states[this.current]}}};function Zn(n,e,t=$e){return typeof n!="string"&&(t=e||$e,e=n,n=Object.keys(e)[0]),$._create&&$._create(n,e),B(ve,{context:b(t),current:b(n),states:b(e)})}function Ue(n,e,t,r){let{context:i}=n;for(let{to:s,guards:o,reducers:a}of r)if(o(i,t)){n.context=a.call(n,i,t);let l=e.original||e,u=B(l,{current:b(s),original:{value:l}});return $._onEnter&&$._onEnter(e,s,n.context,i,t),u.state.value.enter(u,n,t)}}function er(n,e){let t=e.type||e,{machine:r}=n,{value:i,name:s}=r.state;return i.transitions.has(t)?Ue(n,r,e,i.transitions.get(t))||r:($._send&&$._send(t,s),r)}let tr={send(n){this.machine=er(this,n),this.onChange(this)}};function gt(n,e,t,r){let i=Object.create(tr,{machine:ke(n),context:ke(n.context(t,r)),onChange:b(e)});return i.send=i.send.bind(i),i.machine=i.machine.state.value.enter(i.machine,i,r),i}O.action=Hn;O.createMachine=Zn;O.d=$;O.guard=Kn;O.immediate=Wn;O.interpret=gt;O.invoke=Jn;O.reduce=lt;O.state=Xn;O.transition=Vn;Object.defineProperty(xe,"__esModule",{value:!0});xe.createRealtimeClient=mr;const J=jn,g=O,Le=_e,de=S,Fe=F,Se=v,nr=()=>({enqueuedMessage:void 0});function rr(n){return n.token!==void 0}function ir(n){return!rr(n)}function G(n,e){return Object.assign(Object.assign({},n),{enqueuedMessage:e.message})}function R(n){return n.websocket&&n.websocket.readyState===WebSocket.OPEN&&n.websocket.close(),Object.assign(Object.assign({},n),{websocket:void 0})}function sr(n,e){return n.websocket&&n.websocket.readyState===WebSocket.OPEN?(e.message instanceof Uint8Array?n.websocket.send(e.message):n.websocket.send((0,J.encode)(e.message)),Object.assign(Object.assign({},n),{enqueuedMessage:void 0})):Object.assign(Object.assign({},n),{enqueuedMessage:e.message})}function he(n){return Object.assign(Object.assign({},n),{token:void 0})}function or(n,e){return Object.assign(Object.assign({},n),{token:e.token})}function ar(n,e){return Object.assign(Object.assign({},n),{websocket:e.websocket})}const cr=(0,g.createMachine)("idle",{idle:(0,g.state)((0,g.transition)("send","connecting",(0,g.reduce)(G)),(0,g.transition)("expireToken","idle",(0,g.reduce)(he)),(0,g.transition)("close","idle",(0,g.reduce)(R))),connecting:(0,g.state)((0,g.transition)("connecting","connecting"),(0,g.transition)("connected","active",(0,g.reduce)(ar)),(0,g.transition)("connectionClosed","idle",(0,g.reduce)(R)),(0,g.transition)("send","connecting",(0,g.reduce)(G)),(0,g.transition)("close","idle",(0,g.reduce)(R)),(0,g.immediate)("authRequired",(0,g.guard)(ir))),authRequired:(0,g.state)((0,g.transition)("initiateAuth","authInProgress"),(0,g.transition)("send","authRequired",(0,g.reduce)(G)),(0,g.transition)("close","idle",(0,g.reduce)(R))),authInProgress:(0,g.state)((0,g.transition)("authenticated","connecting",(0,g.reduce)(or)),(0,g.transition)("unauthorized","idle",(0,g.reduce)(he),(0,g.reduce)(R)),(0,g.transition)("send","authInProgress",(0,g.reduce)(G)),(0,g.transition)("close","idle",(0,g.reduce)(R))),active:(0,g.state)((0,g.transition)("send","active",(0,g.reduce)(sr)),(0,g.transition)("unauthorized","idle",(0,g.reduce)(he)),(0,g.transition)("connectionClosed","idle",(0,g.reduce)(R)),(0,g.transition)("close","idle",(0,g.reduce)(R))),failed:(0,g.state)((0,g.transition)("send","failed"),(0,g.transition)("close","idle",(0,g.reduce)(R)))},nr);function ur(n,{token:e,maxBuffering:t}){if(t!==void 0&&(t<1||t>60))throw new Error("The `maxBuffering` must be between 1 and 60 (inclusive)");const r=new URLSearchParams({fal_jwt_token:e});return t!==void 0&&r.set("max_buffering",t.toFixed(0)),`wss://fal.run/${(0,Se.ensureEndpointIdFormat)(n)}/realtime?${r.toString()}`}const lr=128;function dr(n){return n.status==="error"&&n.error==="Unauthorized"}const hr={NORMAL_CLOSURE:1e3},fe=new Map,je=new Map;function fr(n,e,t){if(!fe.has(n)){const r=(0,g.interpret)(cr,t);fe.set(n,Object.assign(Object.assign({},r),{throttledSend:e>0?(0,Se.throttle)(r.send,e,!0):r.send}))}return fe.get(n)}const K=()=>{},yr={send:K,close:K};function pr(n){return n.status!=="error"&&n.type!=="x-fal-message"&&!wt(n)}function wt(n){return n.type==="x-fal-error"}function mr({config:n}){return{connect(e,t){const{clientOnly:r=(0,Se.isReact)()&&!(0,Fe.isBrowser)(),connectionKey:i=crypto.randomUUID(),maxBuffering:s,throttleInterval:o=lr}=t;if(r&&!(0,Fe.isBrowser)())return yr;let a;je.set(i,{onError:t.onError,onResult:t.onResult});const l=()=>je.get(i),u=fr(i,o,({context:f,machine:d,send:y})=>{const{enqueuedMessage:m,token:w}=f;if(d.current==="active"&&m&&y({type:"send",message:m}),d.current==="authRequired"&&w===void 0&&a!==d.current&&(y({type:"initiateAuth"}),(0,Le.getTemporaryAuthToken)(e,n).then(p=>{y({type:"authenticated",token:p});const _=Math.round(Le.TOKEN_EXPIRATION_SECONDS*.9*1e3);setTimeout(()=>{y({type:"expireToken"})},_)}).catch(p=>{y({type:"unauthorized",error:p})})),d.current==="connecting"&&a!==d.current&&w!==void 0){const p=new WebSocket(ur(e,{token:w,maxBuffering:s}));p.onopen=()=>{y({type:"connected",websocket:p})},p.onclose=_=>{if(_.code!==hr.NORMAL_CLOSURE){const{onError:T=K}=l();T(new de.ApiError({message:`Error closing the connection: ${_.reason}`,status:_.code}))}y({type:"connectionClosed",code:_.code})},p.onerror=_=>{const{onError:T=K}=l();T(new de.ApiError({message:"Unknown error",status:500}))},p.onmessage=_=>{const{onResult:T}=l();if(_.data instanceof ArrayBuffer){const A=(0,J.decode)(new Uint8Array(_.data));T(A);return}if(_.data instanceof Uint8Array){const A=(0,J.decode)(_.data);T(A);return}if(_.data instanceof Blob){_.data.arrayBuffer().then(A=>{const oe=(0,J.decode)(new Uint8Array(A));T(oe)});return}const E=JSON.parse(_.data);if(dr(E)){y({type:"unauthorized",error:new Error("Unauthorized")});return}if(pr(E)){T(E);return}if(wt(E)){if(E.error==="TIMEOUT")return;const{onError:A=K}=l();A(new de.ApiError({message:`${E.error}: ${E.reason}`,status:400,body:E}));return}}}a=d.current});return{send:f=>{u.throttledSend({type:"send",message:f})},close:()=>{u.send({type:"close"})}}}}}var Te={},k=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Te,"__esModule",{value:!0});Te.createStorageClient=Er;const _t=ne,xt=C,gr=v;function Et(n){var e;const[t,r]=n.split("/");return(e=r.split(/[-;]/)[0])!==null&&e!==void 0?e:"bin"}function wr(n,e,t){return k(this,void 0,void 0,function*(){const r=n.name||`${Date.now()}.${Et(t)}`;return yield(0,xt.dispatchRequest)({method:"POST",targetUrl:`${(0,_t.getRestApiUrl)()}/storage/upload/initiate?storage_type=fal-cdn-v3`,input:{content_type:t,file_name:r},config:e})})}function _r(n,e,t){return k(this,void 0,void 0,function*(){const r=n.name||`${Date.now()}.${Et(t)}`;return yield(0,xt.dispatchRequest)({method:"POST",targetUrl:`${(0,_t.getRestApiUrl)()}/storage/upload/initiate-multipart?storage_type=fal-cdn-v3`,input:{content_type:t,file_name:r},config:e})})}function bt(n,e,t){return k(this,arguments,void 0,function*(r,i,s,o=3){if(o===0)throw new Error("Part upload failed, retries exhausted");const{fetch:a,responseHandler:l}=s;try{const u=yield a(r,{method:"PUT",body:i});return yield l(u)}catch{return yield bt(r,i,s,o-1)}})}function xr(n,e){return k(this,void 0,void 0,function*(){const{fetch:t,responseHandler:r}=e,i=n.type||"application/octet-stream",{upload_url:s,file_url:o}=yield _r(n,e,i),a=10*1024*1024,l=Math.ceil(n.size/a),u=new URL(s),c=[];for(let d=0;d<l;d++){const y=d*a,m=Math.min(y+a,n.size),w=n.slice(y,m),p=d+1,_=`${u.origin}${u.pathname}/${p}${u.search}`;c.push(yield bt(_,w,e))}const h=`${u.origin}${u.pathname}/complete${u.search}`,f=yield t(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parts:c.map(d=>({partNumber:d.partNumber,etag:d.etag}))})});return yield r(f),o})}function Er({config:n}){const e={upload:t=>k(this,void 0,void 0,function*(){if(t.size>94371840)return yield xr(t,n);const r=t.type||"application/octet-stream",{fetch:i,responseHandler:s}=n,{upload_url:o,file_url:a}=yield wr(t,n,r),l=yield i(o,{method:"PUT",body:t,headers:{"Content-Type":t.type||"application/octet-stream"}});return yield s(l),a}),transformInput:t=>k(this,void 0,void 0,function*(){if(Array.isArray(t))return Promise.all(t.map(r=>e.transformInput(r)));if(t instanceof Blob)return yield e.upload(t);if((0,gr.isPlainObject)(t)){const i=Object.entries(t).map(o=>k(this,[o],void 0,function*([a,l]){return[a,yield e.transformInput(l)]})),s=yield Promise.all(i);return Object.fromEntries(s)}return t})};return e}var ze=x&&x.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Z,"__esModule",{value:!0});Z.createFalClient=Or;const br=ne,vr=re,Ur=xe,qe=C,Sr=S,Tr=Te,Ar=j;function Or(n={}){const e=(0,br.createConfig)(n),t=(0,Tr.createStorageClient)({config:e}),r=(0,vr.createQueueClient)({config:e,storage:t}),i=(0,Ar.createStreamingClient)({config:e,storage:t}),s=(0,Ur.createRealtimeClient)({config:e});return{queue:r,realtime:s,storage:t,streaming:i,stream:i.stream,run(o){return ze(this,arguments,void 0,function*(a,l={}){const u=l.input?yield t.transformInput(l.input):void 0;return(0,qe.dispatchRequest)({method:l.method,targetUrl:(0,qe.buildUrl)(a,l),input:u,config:Object.assign(Object.assign({},e),{responseHandler:Sr.resultResponseHandler}),options:{signal:l.abortSignal,retry:{maxRetries:3,baseDelay:500,maxDelay:15e3}}})})},subscribe:(o,a)=>ze(this,void 0,void 0,function*(){const{request_id:l}=yield r.submit(o,a);return a.onEnqueue&&a.onEnqueue(l),yield r.subscribeToStatus(o,Object.assign({requestId:l},a)),r.result(o,{requestId:l})})}}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.isQueueStatus=vt;se.isCompletedQueueStatus=Ir;function vt(n){return n&&n.status&&n.response_url}function Ir(n){return vt(n)&&n.status==="COMPLETED"}(function(n){var e=x&&x.__createBinding||(Object.create?function(u,c,h,f){f===void 0&&(f=h);var d=Object.getOwnPropertyDescriptor(c,h);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(u,f,d)}:function(u,c,h,f){f===void 0&&(f=h),u[f]=c[h]}),t=x&&x.__exportStar||function(u,c){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(c,h)&&e(c,u,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.fal=n.parseEndpointId=n.isRetryableError=n.ValidationError=n.ApiError=n.withProxy=n.withMiddleware=n.createFalClient=void 0;const r=Z;var i=Z;Object.defineProperty(n,"createFalClient",{enumerable:!0,get:function(){return i.createFalClient}});var s=ge;Object.defineProperty(n,"withMiddleware",{enumerable:!0,get:function(){return s.withMiddleware}}),Object.defineProperty(n,"withProxy",{enumerable:!0,get:function(){return s.withProxy}});var o=S;Object.defineProperty(n,"ApiError",{enumerable:!0,get:function(){return o.ApiError}}),Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return o.ValidationError}});var a=Y;Object.defineProperty(n,"isRetryableError",{enumerable:!0,get:function(){return a.isRetryableError}}),t(se,n);var l=v;Object.defineProperty(n,"parseEndpointId",{enumerable:!0,get:function(){return l.parseEndpointId}}),n.fal=function(){let c=(0,r.createFalClient)();return{config(h){c=(0,r.createFalClient)(h)},get queue(){return c.queue},get realtime(){return c.realtime},get storage(){return c.storage},get streaming(){return c.streaming},run(h,f){return c.run(h,f)},subscribe(h,f){return c.subscribe(h,f)},stream(h,f){return c.stream(h,f)}}}()})(Ne);const Mr=Tt({__proto__:null},[Ne]);export{Mr as i};
